{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6**","webpack:///webpack/bootstrap a1729d33d1d59db5889e?bccc**","webpack:///./src/lib/private_templates/@main.js","webpack:///./src/lib/private_templates/actions.js","webpack:///./src/lib/private_templates/recipients.js"],"names":["PrivateTemplates","actions","privateTemplates","Object","setPrototypeOf","module","exports","call","VeLib","core","remote","callForData","configs","get","state","Actions","saveRecipients","saveRecipient","removeRecipient","data","noCommit","templateUid","remoteEntities","template","uid","callDetails","method","url","userDataAppendix","body","params","t","userData","Promise","resolve","callRaw","expose","addRecipient","recipient","envelopesAppendix","envelope","id","recipientsAppendix","then","response","headers","location","putRecipient","recArray","promArray","forEach","push","rec","all"],"mappings":"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","file":"ve.private_templates.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"private_templates\"] = factory();\n\telse\n\t\troot[\"VeLib\"] = root[\"VeLib\"] || {}, root[\"VeLib\"][\"private_templates\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a1729d33d1d59db5889e","import actions from \"./actions\"\r\n\r\nclass PrivateTemplates {\r\n\tconstructor( ) { this.actions = actions }\r\n}\r\n\r\nvar privateTemplates = new PrivateTemplates( )\r\n\r\nObject.setPrototypeOf( privateTemplates, actions )\r\n\r\nmodule.exports = privateTemplates\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/private_templates/@main.js","const call = VeLib.core.remote.callForData\r\nlet configs = VeLib.core.configs.get( )\r\nconst state = VeLib.core.state\r\n\r\nimport recipientActions from \"./recipients.js\"\r\n\r\nclass Actions {\r\n\tconstructor( ) {\r\n\t\tthis.saveRecipients = recipientActions.saveRecipients\r\n\t\tthis.saveRecipient = recipientActions.saveRecipient\r\n\t\tthis.removeRecipient = recipientActions.removeRecipient\r\n\r\n\t}\r\n\r\n\tputTemplateData( data, noCommit ) {\r\n\t\tvar templateUid = state.get( ).remoteEntities.template.uid;\r\n\t\t//TODO: SET contentType to reflect user's permissions\r\n\t\tlet callDetails = {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\turl: `${ templateUid }${ configs.userDataAppendix }`,\r\n\t\t\tbody: data\r\n\t\t}\r\n\t\tif (noCommit) {\r\n\t\t\tcallDetails.params = {\r\n\t\t\t\tnoCommit: true\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn call(callDetails)\r\n\t}\r\n\r\n\tgetTemplateData( ) {\r\n\t\tvar t = state.get( ).remoteEntities.template\r\n\r\n\t\tif ( t && t.userData )\r\n\t\t\treturn Promise.resolve( t.userData )\r\n\t\telse\r\n\t\t\treturn Promise.resolve({ })\r\n\t}\r\n\r\n}\r\nlet actions = new Actions( )\r\nexport default actions\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/private_templates/actions.js","const callRaw = VeLib.core.remote.callRaw\r\nconst configs = VeLib.core.configs\r\nconst state = VeLib.core.state\r\n\r\nconst expose = {\r\n\taddRecipient: ( recipient ) => {\r\n\t\tlet url = `${ configs.envelopesAppendix }/${ state.get().remoteEntities.envelope.id }${configs.recipientsAppendix}`\r\n\r\n\t\treturn callRaw( {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\turl: url,\r\n\t\t\t\tbody: recipient\r\n\t\t\t} )\r\n\t\t\t.then( response => response.headers.location )\r\n\t},\r\n\tputRecipient: ( recipient ) => {\r\n\t\tlet url =\r\n\t\t\t`${ configs.envelopesAppendix }/${ state.get().remoteEntities.envelope.id }${configs.recipientsAppendix}/${ recipient.id }`\r\n\r\n\t\treturn callRaw( {\r\n\t\t\tmethod: \"PUT\",\r\n\t\t\turl: url,\r\n\t\t\tbody: recipient\r\n\t\t} )\r\n\t},\r\n\r\n\tsaveRecipient: ( recipient ) => {\r\n\t\tif ( recipient.id ) return expose.putRecipient( recipient )\r\n\t\telse return expose.addRecipient( recipient )\r\n\t},\r\n\r\n\tsaveRecipients: ( recArray ) => {\r\n\t\tlet promArray = []\r\n\t\trecArray.forEach( rec => promArray.push( expose.saveRecipient( rec ) ) )\r\n\t\treturn Promise.all( promArray )\r\n\t},\r\n\r\n\tremoveRecipient: ( recipient ) => {\r\n\t\tlet url =\r\n\t\t\t`${ configs.envelopesAppendix }/${ state.get().remoteEntities.envelope.id }${configs.recipientsAppendix}/${ recipient.id}`\r\n\r\n\t\treturn callRaw( {\r\n\t\t\tmethod: \"DELETE\",\r\n\t\t\turl: url\r\n\t\t} )\r\n\t}\r\n}\r\n\r\nexport default expose\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/private_templates/recipients.js"],"sourceRoot":""}